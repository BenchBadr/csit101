<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/brand/logo.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#1e4a8a" />
    <meta
      name="description"
      title="CSIT101"
      color="#1e4a8a"
      content="CSIT-101 course website, attempt of recreation."
    />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo.png" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/pyodide/v0.18.1/full/pyodide.js"></script>
    <script>
      const currentVersion = '2.3';
      
      function startVersionCheck() {
          const versionJs = document.getElementById('version-js');
          console.log(versionJs)
          if (versionJs){
          const versionJsUrl = versionJs.src;
          let versionJsReloadCount = 0;
          const versionCheck = function () {
              versionJs.src = [versionJsUrl, '?rc=', ++versionJsReloadCount].join('');
          };
          setInterval(versionCheck, 60000);
        }
      }

      window.addEventListener('currentversion', function (e) { 
          const version = e.detail;
          if (currentVersion !== version) {
              window.dispatchEvent(new CustomEvent('versionchanged', { detail: version }));
          }
      });

      window.addEventListener('versionchanged', function (e) {
          alert('New UI version available!');
      });

      window.addEventListener('load', startVersionCheck);
  </script>
    <title>CSIT101 - WNE</title>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
  </body>
</html>
